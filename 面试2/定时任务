```
1. 利用数据库的共享锁事务管理机制来运行定时任务。 【适合小型项目】 
流程：
    java的Enumeration对象中有ip信息
   1.原理：在数据库中新建一张表定时任务表，存储了上次执行定时任务的ip地址（ip），任务名称（task_name)，是否正在执行（execute）
集群中的所有服务器都是走以下流程

第一步：查找数据库的定时任务表。

第二步：检查是否有机器在运行定时任务。检查方法：update定时任务表的excute字段为1（1为执行中，0为未执行）、ip为自己的ip，如果update失败，则证明有机器在执行该定时任务，该机器的定时任务就不执行了，成功则进行第三步。

第三步：执行定时任务的具体内容。

第四步：还原excute字段为0。

以上是该方案的流程，利用了mysql的共享锁机制判断，通过是否更新成功来判断是否有机器正在执行定时任务，这种方案可以保证任务只执行一次，且只要集群中有一台服务器是好的，就会执行任务。

```
